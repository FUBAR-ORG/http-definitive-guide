## 웹 중개자

    클라이언트의 입장에서 트랜잭션을 수행하는 중개인
    웹 서버이기도 하고 웹 클라이언트이기도 하다.
    구현을 한다면 양쪽의 규칙을

    클라이언트 --- HTTP 서버 => 클라이언트 --- 프락시 --- 서버

### 개인 프락시와 공유 프락시

    개인: 하나의 클라이언트가 독점적으로 사용
    공유: 여러 클라이언트가 사용

### 프락시 대 게이트웨이

    프락시는 같은 프로토콜을 사용하는 둘 이상을 연결하고
    게이트웨이는 서로 다른 프로토콜을 사용하는 둘 이상을 연결한다.

#

## 보안 개선, 비용 절약, 성능

-   어린이 필터
-   문서 접근 제어자: 클라이언트 별 접근 권한 제어
-   보안 방화벽
-   웹 캐시
-   대리 프락시(surrogate)
-   컨텐츠 라우터: 요청을 특정 웹 서버로 유도
-   트랜스코더: 포맷 수정
-   익명화 프락시

#

## 프락시 서버 배치

-   네트워크 출구: 로컬과 더 큰 인터넷 간의 트래픽 제어
-   접근(입구) 프락시: 요청 성능
-   대리 프락시: 네트워크의 가장 끝 바로 앞에서 요청 처리 필요할 때만 서버 요청
-   네트워크 교환 프락시: 캐시 이용, 교차료의 혼잡 완화 및 흐름 감시

#

## 프락시 계층 - 여러 프락시 사용

-   부하 균형
-   지리적 인접성에 근거한 라우팅
-   프로토콜/타입 라우팅: URL에 근거하여 다른 부모나 원 서버로 라우팅
-   유료 서비스 가입자를 위한 라우팅

#

## 프락시 트래픽 처리

-   클라이언트 수정: 클라이언트가 프락시 사용 설정시 요청을 프락시로 보낸다.
-   네트워크 수정: 네트워크 인프라를 가로채서 트래픽이 프락시로 가게 한다.
-   DNS 이름공간 수정: 대리 프락시는 웹 서버의 이름과 IP 주소를 직접 사용한다.
-   웹 서버 수정: 웹 서버는 리다이렉션 명령을 클라이언트에게 돌려줌으로써 요청을 프락시로 리다이렉트 한다.

#

## 클라이언트 프락시 설정

-   수동
-   브라우저 기본 설정
-   자동 설정(PAC): 상황에 맞게 프락시 설정
-   웹 프락시 자동발견 프로토콜(WPAD)

#

## 프락시 요청의 특징

-   프락시 URI(완전)는 서버 URI(부분)와 다르다.
-   가상 호스팅에서 일어나는 문제(docroot, 가상호스팅)가 똑같이 발생한다.
-   인터셉트 프락시는 부분 URL를 받는다.
-   프락시는 프락시 요청과 서버 요청을 모두 다룰 수 있다.
-   전송 중 URI를 변경한다.
-   브라우저는 프락시 존재 여부에 따라 URI 분석을 다르게 한다.

#

## 메세지 추적

-   Via
    -   헤더: 메세지가 지나가는 각 중간 노드의 정보를 나열한다.
        -   문법: 쉼표로 구분된 경유지 목록
        -   프로토콜 이름
        -   노드 이름
        -   노드 코멘트
    -   요청과 응답이 프락시를 지나면 Via 헤더를 갖는다.
    -   비 HTTP 프로토콜을 사용할 수 있는 게이트웨이 기능을 제공한다.
-   TRACE

#

## 프락시 상호운용성

-   지원하지 않는 헤더와 메서드 다루기
-   OPTIONS: 지원하는 기능 알아보기
-   Allow 헤더: 식별되는 자원이나 서버에서 지원하는 메소드들 열거
