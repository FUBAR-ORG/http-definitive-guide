# 1. HTTP 개관

## 1-1. HTTP: 인터넷의 멀티미디어 배달부

- HTTP는 전 세계의 웹 서버로 부터 자원들을 클라이언트들의 웹 브라우저로 옮겨준다.
- 신뢰성 있는 데이터 전송 프로토콜을 사용하기 때문에 데이터의 손상 염려하지 않아도 된다.
- 개발자는 인터넷의 결함이나 약점에 대한 걱정 없이 애플리케이션 고유의 기능을 구현하는데 집중할 수 있다.

## 1-2. 웹 클라이언트와 서버

- 웹 콘텐츠는 웹 서버에 존재한다.
- 웹 서버는 HTTP 프로토콜로 소통하기 때문에 보통 HTTP 서버라고 한다.
- 웹 서버는 인터넷의 데이터를 저장하고, HTTP 클라이언트가 요청한 데이터를 제공한다.
- 클라이언트는 서버에게 HTTP 요청을 보내고 서버는 요청된 데이터를 HTTP 응답으로 돌려준다.

## 1-3. 리소스

- 웹 서버는 웹 리소스를 관리하고 제공한다.
- 웹 리소스는 웹 콘텐츠의 원천이다.
- 정적 파일은 텍스트 파일, HTML 파일, 마이크로소프트 워드 파일.... 등 그 외의 모든 종류의 파일을 포함한다.
- 리소스는 반드시 정적 파일이어야 할 필요가 없다.

### 1. 미디어 타입

- HTTP는 웹에서 전송되는 객체 각각에 신중하게 `MIME` 타입이라는 데이터 포멧 라벨을 붙인다.
- 웹 브라우저는 서버로부터 객체를 돌려받을 때, 다룰 수 있는 객체인지 MIME 타입을 통해 확인한다.
- MIME 타입은 사선(/)으로 구분된 `주 타입`과 `부 타입`으로 이루어진 문자열 라벨이다.
  - HTML : text/html
  - plain ASCII : text/plain
  - JPEG : image/jpeg
  - GIF: image/gif

### 2. URI

- 통합 자원 식별자(Uniform Resource Identifier)
- URI는 인터넷 우편물 주소 같은 것으로, 정보 리소스를 고유하게 식별하고 위치를 저장할 수 있다.
- URI는 2가지가 있는데 `URL` 과 `URN`으로 구별된다.

### 3. URL

- 통합 자원 지시자(Uniform Resource Locator)
- URL의 첫 번째 부분은 스킴으로 리소스에 접근하기 위해 사용되는 프로토콜을 서술
- 두 번째는 서버의 인터넷 주소를 제공
- 마지막은 웹 서버의 리소스를 가리킴
- 오늘날 대부분의 URI, URI와 URL는 같은 의미

### 4. URN

- 유니폼 리소스 이름으로 아직 실험중인 단계이다.
- 콘텐츠를 이루는 한 리소스에 대해, 그 리소스의 위치에 영향 받지 않는 유일무이한 이름 역할을 한다.
- 리소스 이름만 유지하면 여러종류의 네트워크 접속 프로토콜로 접근해도 문제가 없다.

## 1-4. 트랜잭션

- HTTP 트랜잭셚은 요청 명령과 응답 결과로 구성되어 있다.
- HTTP 메세지라고 불리는 정형화된 데이터 덩어리를 이용한다.

### 1. 메서드

- HTTP는 HTTP 메서드라고 불리는 여러가지 종류의 요청명령을 지원한다.
- 모든 HTTP 요청 메세지는 한 개의 메서드를 갖는다.
- 메서드는 서버에게 어떤 동작이 취해져야 하는지 말해준다.

### 2. 상태코드

- 모든 HTTP 응답 메시지는 상태 코드와 함께 반환된다.

### 3. 웹페이지는 여러 객체로 이루어질 수 있다.

- 애플리케이션은 보통 하나의 작업을 수행하기 위해 여러 HTTP 트랜잭션을 수행한다.

## 1-5. 메시지

- HTTP 메시지, 단순한 줄 단위의 문자열이다.
- 일반 텍스트이기 때문에 사람이 읽고 쓰기 쉽다.
- 클라이언트가 서버에게 보낸 메시지를 요청메시지 서버가 클라이언트에게 보낸 메시지를 응답 메시지라고 한다.
- HTTP 메시지는 세부분으로 이루어 져있다.
  - 시작줄: 요청이라면 해야할 일, 응답이라면 일어난 일
  - 헤더: 시작줄 다음에는 0개 이상의 헤더 필드가 이어진다. 쌍점(:)으로 구분되어 있는 하나 값과 이름으로 구성
  - 본문: 어떤 종류의 데이터든 들어갈 수 있음, 웹 서버로 데이터 실어 보낸다.

## 1-6. TCP 커넥션

### 1. TCP/IP

- 대중적이고 신뢰성 있는 인터넷 전송 프로토콜
- TCP는 다음을 제공한다.

  - 오류없는 데이터 전송
  - 순서에 맞는 전달
  - 조각나지 않는 데이터 스트림

- TCP/IP는 패킷 교환 네트워크 프로토콜의 집합이다.
- HTTP는 자신의 메시지 데이터를 전송하기 위해 TCP를 사용한다.

### 2. 접속, IP 주소 그리고 포트번호

- HTTP 클라이어느가 서버에 메시지를 전송할 수 있기 전에 IP 주소와 포트번호를 이용해 사용자와 서버 사이에 TCP/IP 커넥션을 맺어야 한다.

- URL은 그 리소스를 가지고 있는 장비에 대한 IP 주소를 알려준다.
- 순서
  - 웹브라우저는 서버의 URL에서 호스트 명을 추출한다.
  - 웹브라우저는 서버의 호스트 명을 IP로 변환한다.
  - 웹브라우저는 URL에서 포트번호를 추출한다.
  - 웹브라우저는 웹 서버와 TCP 커넥션을 맺는다.
  - 웹브라우저는 서버에 HTTP 요청을 보낸다.
  - 서버는 웹브라우저에 HTTP 응답을 돌려준다.
  - 커넥션이 닫히면, 웹브라우저는 문서를 보여준다.

## 1-7. 프로토콜 버전

### HTTP/0.9

- 오직 GET 메서드만 지원
- 간단한 HTML 객체를 받아오기 위해 만들어짐

### HTTP/1.0

- 버전번호, HTTP헤더, 추가 메서드, 멀티미디어 객체 처리를 추가함.

### HTTP/1.0+

- 오래 지속되는 keep-alive 커넥션, 가상호스팅 지원, 프락시 연결 지원을 포함해 많은 기능이 공식적이진 않지만 표준으로 HTTP에 추가됨.

### HTTP/1.1

- HTTP 설계의 구조적 결함 교정, 두드러진 성능 최적화, 잘못된 기능 제거에 집중함.

### HTTP/2.0

- 성능 문제를 개선하기 위해 구글의 SPDY 프로토콜을 기반으로 설계가 진행중

## 1.8 웹의 구성 요소

### 프락시

- 클라이언트와 서버 사이에 위치한 HTTP중개자.
- 클라이언트의 모든 요청을 받아 HTTP 서버에 전달
- 주로 보안을 위해 사용됨.
- 모든 웹 트래픽 속에서 신뢰할 만한 중개자 역할을 함.
- 요청과 응답을 필터링 함.

### 캐시

- 많이 찾는 웹페이지를 클라이언트 가까이에 보관하는 HTTP 창고
- 자주 찾는 문서의 사본을 저장해두는 특별한 종류의 HTTP 프락시 서버

### 게이트웨이

- 다른 애플리케이션과 연결된 특별한 웹 서버
- 주로 HTTP 트래픽을 다른 프로토콜로 변환하기 위해 사용
- 스스로 리소스를 갖고 있는 진짜 서버인것 처럼 요청을 다룸

### 터널

- 단순히 HTTP 통신을 전달하기만 하는 특별한 프락시

### 에이전트

- 자동화된 HTTP 요청을 만드는 준 지능적 웹클라이언트
- 사용자 에이전트는 여러가지 종류가 있음
- 사람의 통제 없이 웹을 돌아다니며 HTTP 트랜잭션을 일으키고 콘텐츠를 받아오는 자동회된 사용자 에이전트가 있다.
